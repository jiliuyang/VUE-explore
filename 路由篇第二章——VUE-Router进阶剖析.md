# VUE-Router进阶拓展

在上一章节中主要知道了路由之间切换的方法，以及如携带参数，那么路由切换时我们要怎么知道该次切换路由是从哪个路由过来的？又是抵达了哪个路由？路由过来时又携带了那些数据？

本章就主要就这几个点来做下拓展：

## 路由监听 watch
vue项目中两个路由之间的跳转，作为总指挥，我们势必要知道他们的一举一动，所以就必须要有个监听方案，最直接的就是watch函数。

watch监听代码示例如下：
```
export default {
  //watch可以用来监听路由的改变，to指代跳到哪，from指代从哪跳。
  watch:{
    $route(to,from){
      console.log(to);
      console.log(from);
    }
  }
}
```
比如我们从router1跳转到router4，watch监听到的to和from对象如下图：

![to和from对象](/IMG/vue2_1.png)

由上我们发现其中to对象就是上章提到的$route---当前激活的路由对象。而from也可以说是一个$route,不过是跳转到当前路由之前的路由对象。

那么问题来了，我们在一个组件中安置一个watch监听，那么它能监听到的范围是那些呢？是整个vue项目中任意路由之间的跳转？还是只涉及到该组件自身的的路由跳转？

这里我们做个测试，参考上章的路由配置，我们分别在app.vue,about.vue,router2.vue中各设置一个watch监听，然后对各级路由之间进行切换，最终发现：

1.app.vue中的watch方法，不论是一级路由之间的切换，还是一级到二级之间的切换，还是二级子路由之间的切换，在app.vue中都可以监听到；  
2.about.vue中watch方法，可见监听到自身和其子路由之间的切换，自身子路由之间的相互切换。  
3.router2.vue中watch方法，监听不到任何动静。

综上我们可以得出如下结论：watch监听的范围是以自身组件为起点，由它延伸出来的各级嵌套路由（包含自身）中同级之间，跨级之间的路由切换，都可以被自身的watch方法监听到。而跟自身同级的其他路由之间，与其父辈路由之间，同级路由的嵌套路由之间的切换都没法监听到。

由此，我们在使用watch监听时要注意其使用语境。



